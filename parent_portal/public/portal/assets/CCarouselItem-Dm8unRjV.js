import{r as e,_ as te,N as re,Y as ee,R as i,i as H,k as W,P as r}from"./index-CEegmSMn.js";var ne=e.createContext({}),ae=e.forwardRef(function(n,L){var y=n.children,T=n.activeIndex,o=T===void 0?0:T,w=n.className,R=n.controls,O=n.dark,P=n.indicators,p=n.interval,m=p===void 0?5e3:p,_=n.onSlid,u=n.onSlide,x=n.pause,C=x===void 0?"hover":x,N=n.touch,D=N===void 0?!0:N,b=n.transition,E=n.wrap,M=E===void 0?!0:E,S=te(n,["children","activeIndex","className","controls","dark","indicators","interval","onSlid","onSlide","pause","touch","transition","wrap"]),f=e.useRef(null),V=re(L,f),l=e.useRef({}).current,k=e.useState(o),a=k[0],d=k[1],c=e.useState(!1),s=c[0],g=c[1],h=e.useState(),Y=h[0],ie=h[1],q=e.useState("next"),F=q[0],X=q[1],z=e.useState(0),A=z[0],se=z[1],B=e.useState(null),ce=B[0],G=B[1],J=e.useState(),K=J[0],Q=J[1];e.useEffect(function(){se(e.Children.toArray(y).length)}),e.useEffect(function(){K&&j()},[K]),e.useEffect(function(){!s&&j(),!s&&_&&_(a,F),s&&u&&u(a,F)},[s]),e.useEffect(function(){return window.addEventListener("scroll",Z),function(){window.removeEventListener("scroll",Z)}});var j=function(){U(),!(!M&&a===A-1)&&typeof m=="number"&&(l.timeout=setTimeout(function(){return ue()},typeof Y=="number"?Y:m))},U=function(){return C&&l.timeout&&clearTimeout(l.timeout)},ue=function(){if(!document.hidden&&f.current&&ee(f.current)){if(s)return;I("next")}},I=function(t){s||(X(t),t==="next"?a===A-1?d(0):d(a+1):d(a===0?A-1:a-1))},le=function(t){if(a!==t){if(a<t){X("next"),d(t);return}a>t&&(X("prev"),d(t))}},Z=function(){!document.hidden&&f.current&&ee(f.current)?Q(!0):Q(!1)},ve=function(t){var v=ce;if(v!==null){var de=t.touches[0].clientX,$=v-de;$>5&&I("next"),$<-5&&I("prev"),G(null)}},fe=function(t){var v=t.touches[0].clientX;G(v)};return i.createElement("div",H({className:W("carousel slide",{"carousel-fade":b==="crossfade"},w)},O&&{"data-coreui-theme":"dark"},{onMouseEnter:U,onMouseLeave:j},D&&{onTouchStart:fe,onTouchMove:ve},S,{ref:V}),i.createElement(ne.Provider,{value:{setAnimating:g,setCustomInterval:ie}},P&&i.createElement("div",{className:"carousel-indicators"},Array.from({length:A},function(t,v){return v}).map(function(t){return i.createElement("button",H({key:"indicator".concat(t),onClick:function(){!s&&le(t)},className:W({active:a===t}),"data-coreui-target":""},a===t&&{"aria-current":!0},{"aria-label":"Slide ".concat(t+1)}))})),i.createElement("div",{className:"carousel-inner"},e.Children.map(y,function(t,v){if(i.isValidElement(t))return i.cloneElement(t,{active:a===v,direction:F,key:v})})),R&&i.createElement(i.Fragment,null,i.createElement("button",{className:"carousel-control-prev",onClick:function(){return I("prev")}},i.createElement("span",{className:"carousel-control-prev-icon","aria-label":"prev"})),i.createElement("button",{className:"carousel-control-next",onClick:function(){return I("next")}},i.createElement("span",{className:"carousel-control-next-icon","aria-label":"next"})))))});ae.propTypes={activeIndex:r.number,children:r.node,className:r.string,controls:r.bool,dark:r.bool,indicators:r.bool,interval:r.oneOfType([r.bool,r.number]),onSlid:r.func,onSlide:r.func,pause:r.oneOf([!1,"hover"]),touch:r.bool,transition:r.oneOf(["slide","crossfade"]),wrap:r.bool};ae.displayName="CCarousel";var oe=e.forwardRef(function(n,L){var y=n.children,T=n.className,o=n.active,w=n.direction,R=n.interval,O=R===void 0?!1:R,P=te(n,["children","className","active","direction","interval"]),p=e.useContext(ne),m=p.setAnimating,_=p.setCustomInterval,u=e.useRef(null),x=re(L,u),C=e.useRef(),N=e.useState(),D=N[0],b=N[1],E=e.useState(),M=E[0],S=E[1],f=e.useState(o&&"active"),V=f[0],l=f[1],k=e.useState(0),a=k[0],d=k[1];return e.useEffect(function(){o&&(_(O),a!==0&&S("carousel-item-".concat(w))),C.current&&!o&&l("active"),(o||C.current)&&setTimeout(function(){var c;a!==0&&((c=u.current)===null||c===void 0||c.offsetHeight,b("carousel-item-".concat(w==="next"?"start":"end")))},0),C.current=o,a===0&&d(a+1)},[o]),e.useEffect(function(){var c,s;return(c=u.current)===null||c===void 0||c.addEventListener("transitionstart",function(){o&&m(!0)}),(s=u.current)===null||s===void 0||s.addEventListener("transitionend",function(){o&&m(!1),b(""),S(""),o&&l("active"),o||l("")}),function(){var g,h;(g=u.current)===null||g===void 0||g.removeEventListener("transitionstart",function(){o&&m(!0)}),(h=u.current)===null||h===void 0||h.removeEventListener("transitionend",function(){o&&m(!1),b(""),S(""),o&&l("active"),o||l("")})}}),i.createElement("div",H({className:W("carousel-item",V,D,M,T),ref:x},P),y)});oe.propTypes={active:r.bool,children:r.node,className:r.string,direction:r.string,interval:r.oneOfType([r.bool,r.number])};oe.displayName="CCarouselItem";export{ae as C,oe as a};

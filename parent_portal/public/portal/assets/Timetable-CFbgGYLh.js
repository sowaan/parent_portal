var p=(o,x,c)=>new Promise((j,s)=>{var h=a=>{try{l(c.next(a))}catch(n){s(n)}},i=a=>{try{l(c.throw(a))}catch(n){s(n)}},l=a=>a.done?j(a.value):Promise.resolve(a.value).then(h,i);l((c=c.apply(o,x)).next())});import{r as d,j as e,D as b,E as u,F as S,G as _,H as g,d as y}from"./index-CEegmSMn.js";const D=()=>{const[o,x]=d.useState([]),[c,j]=d.useState(null),[s,h]=d.useState(),[i,l]=d.useState("");let a="";function n(){return p(this,null,function*(){try{const t=yield y.get("/api/method/parent_portal.parent_portal.api.get_student_batch");x(t.data.message)}catch(t){console.error("Failed to fetch batch:",t)}})}function f(t){return p(this,null,function*(){try{const r=yield y.get("/api/method/parent_portal.parent_portal.api.get_timetable",{params:{batch:t}});h(r.data.message)}catch(r){h(),l(r.response.data)}})}return d.useEffect(()=>{n()},[]),e.jsx(b,{className:"mx-4",children:e.jsx(u,{xs:!0,children:e.jsxs(S,{className:"mb-4",children:[e.jsx(_,{children:e.jsxs(b,{children:[e.jsx(u,{children:s&&s.title?s.title:"Timetable"}),e.jsx(u,{children:e.jsxs(g,{"aria-label":"Select course",value:c,onChange:t=>{j(t.target.value),f(t.target.value)},children:[e.jsx("option",{value:"",children:"Batch"}),o.map((t,r)=>e.jsx("option",{value:t,children:t},r))]})})]})}),s?e.jsxs("table",{className:"table table-striped",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Day"}),e.jsx("th",{children:"Instructor Name"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Course"})]})}),e.jsx("tbody",{children:s&&s.timetable_details.map((t,r)=>{const m=t.day!==a;return m&&(a=t.day),e.jsxs("tr",{children:[e.jsx("td",{children:m?t.day:""}),e.jsx("td",{children:t.instructor_name}),e.jsx("td",{children:t.start_date}),e.jsx("td",{children:t.end_date}),e.jsx("td",{children:t.course})]},r)})})]}):e.jsx("div",{children:i?JSON.stringify(i):"Please Select Batch"})]})})})};export{D as default};

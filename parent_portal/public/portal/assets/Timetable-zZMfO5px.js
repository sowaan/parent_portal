var y=(o,h,r)=>new Promise((i,l)=>{var n=t=>{try{c(r.next(t))}catch(d){l(d)}},p=t=>{try{c(r.throw(t))}catch(d){l(d)}},c=t=>t.done?i(t.value):Promise.resolve(t.value).then(n,p);c((r=r.apply(o,h)).next())});import{F as g,r as x,j as e,f as j}from"./index-DsA6pnSQ.js";import{C as b}from"./CommonClasses-DWDFnoTg.js";import{S as u}from"./SelectField-k5oX7Dw_.js";const S=()=>{const{data:o,isLoading:h}=g("parent_portal.parent_portal.api.get_student_batch"),[r,i]=x.useState(null),[l,n]=x.useState(),[p,c]=x.useState("");let t="";function d(a){return y(this,null,function*(){try{const s=yield j.get("/api/method/parent_portal.parent_portal.api.get_timetable",{params:{batch:a}});n(s.data.message)}catch(s){n(),c(s.response.data)}})}return e.jsxs("div",{className:b,children:[e.jsx("div",{className:"mb-5.5 flex flex-col gap-5.5 sm:flex-row",children:e.jsx("div",{className:"w-full sm:w-47.5",children:e.jsx(u,{label:"",selectedOption:r,onChange:a=>{i(a.target.value),d(a.target.value)},options:e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"",children:"Select Batch"}),o&&o.message.map((a,s)=>e.jsx("option",{value:a,children:a},s))]})})})}),l?e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:" text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Day"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Instructor Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Start Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"End Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Course"})]})}),e.jsx("tbody",{children:l&&l.timetable_details.map((a,s)=>{const m=a.day!==t;return m&&(t=a.day),e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 border-gray-200",children:[e.jsx("td",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:m?a.day:""}),e.jsx("td",{className:"px-6 py-4",children:a.instructor_name}),e.jsx("td",{className:"px-6 py-4",children:a.start_date}),e.jsx("td",{className:"px-6 py-4",children:a.end_date}),e.jsx("td",{className:"px-6 py-4",children:a.course})]},s)})})]}):e.jsx("div",{children:p?JSON.stringify(p):"Please Select Batch"})]})};export{S as default};
